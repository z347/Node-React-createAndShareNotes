(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{16:function(e,t){e.exports=Object.freeze({AUTH:{authSuccess:"LOGIN_SUCCESS",logout:"LOGOUT"},NOTIFICATION:{getMessageError:"GET_NOTIFICATION_ERROR",getMessageSuccess:"GET_NOTIFICATION_SUCCESS",clearNotification:"CLEAR_ALL_NOTIFICATION"},NOTES:{getNotesSuccess:"GET_NOTES_SUCCESS"},SHARE:{getUsersSuccess:"GET_USERS_SUCCESS"}})},175:function(e,t,n){e.exports=n(244)},215:function(e,t){},244:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(14),o=n.n(c),i=n(36),s=n(300),u=n(48),l=n(11),m=n(282),p=n(285),f=n(286),d=n(284),h=n(305),g=n(7),v=n.n(g),b=n(9),E=n(16),y=n.n(E);function O(e){var t=e.message;return{type:y.a.NOTIFICATION.getMessageError,messageError:t}}function x(e){var t=e.message;return{type:y.a.NOTIFICATION.getMessageSuccess,messageSuccess:t}}function j(){return function(e){return setTimeout((function(){return e(k())}),5e3)}}function k(){return{type:y.a.NOTIFICATION.clearNotification,messageSuccess:!1,messageError:!1}}function w(e,t){return function(){var n=Object(b.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json; charset=UTF-8"},body:JSON.stringify(e)});case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,a(k()),r.ok&&200===r.status?a(S(c))&&a(N(c.expires)):a(O(c))&&a(j()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}function S(e){var t=e.token,n=e.userId;return localStorage.setItem("userToken",t),{type:y.a.AUTH.authSuccess,token:t,userId:n,isAuthenticated:!0}}function N(e){return console.log("autoLogout"),function(t){return setTimeout((function(){return t(T())}),1e3*e)}}function T(){return localStorage.removeItem("userToken"),{type:y.a.AUTH.logout,token:!1,userId:!1,isAuthenticated:!1}}var A=Object(m.a)((function(e){return{root:{flexGrow:1},title:{flexGrow:1},button:{marginRight:e.spacing(2)},a:{color:"inherit",textDecoration:"inherit"},linkTitle:{color:"inherit",textDecoration:"inherit",fontSize:"1.25rem"}}}));var I=Object(l.b)(null,(function(e){return{userLogout:function(){return e(T())}}}))(Object(u.f)((function(e){var t=A(),n=Object(l.c)((function(e){return e.auth})),c=r.a.createElement(a.Fragment,null,r.a.createElement(d.a,{variant:"outlined",color:"inherit",className:t.button},r.a.createElement(i.b,{exact:"true",to:"/cabinet",role:"link",className:t.a},"cabinet")),r.a.createElement(d.a,{variant:"outlined",color:"inherit"},r.a.createElement(i.b,{exact:"true",to:"/",role:"link",className:t.a,onClick:function(t){t.preventDefault(),e.userLogout(),e.history.push("/")}},"logout"))),o=r.a.createElement(a.Fragment,null,r.a.createElement(d.a,{variant:"outlined",color:"inherit",className:t.button},r.a.createElement(i.b,{exact:"true",to:"/login",role:"link",className:t.a},"sign in")),r.a.createElement(d.a,{variant:"outlined",color:"inherit"},r.a.createElement(i.b,{exact:"true",to:"/registration",role:"link",className:t.a},"sign up")));return r.a.createElement(p.a,{position:"static",className:t.root},r.a.createElement(f.a,null,r.a.createElement(h.a,{component:"h6",m:1,className:t.title},r.a.createElement(i.b,{exact:"true",to:"/",role:"link",className:t.linkTitle},"Nerdy Soft")),n.isAuthenticated?c:o))})));var C=function(){return Object(a.useEffect)((function(){document.title="Nerdy Soft"})),r.a.createElement("h1",null,"Home page")},_=n(67),F=n(291),B=n(164),R=n(292),U=n(45),P=n(301),q=n(302);var z=n(23),D=n(303);function L(){var e=Object(l.c)((function(e){return e.notification.messageError})),t=Object(l.c)((function(e){return e.notification.messageSuccess})),n=Object(a.useState)(!0),c=Object(z.a)(n,2),o=c[0],i=c[1],s=Object(a.useState)({vertical:"top",horizontal:"center"}),u=Object(z.a)(s,1)[0],m=u.vertical,p=u.horizontal,f=function(e,t){"clickaway"!==t&&i(!1)},d=r.a.createElement(D.a,{onClose:f,anchorOrigin:{vertical:m,horizontal:p},open:o},r.a.createElement(q.a,{onClose:f,variant:"filled",severity:e?"error":"success"},e||t));return r.a.createElement(a.Fragment,null,e||t?d:null)}var M=Object(m.a)((function(e){return{formRegistration:{textAlign:"center",verticalAlign:"middle","& > div":{margin:e.spacing(1),width:"75%"},"& > button":{marginTop:e.spacing(4),marginBottom:e.spacing(10),width:"75%",height:"4rem"},"& > div.MuiAlert-root":{display:"inline-flex",width:"75%"}}}}));var G=Object(l.b)(null,(function(e){return{sendDataToServer:function(t,n){return e(function(e,t){return function(){var n=Object(b.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)});case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,a(k()),r.ok&&201===r.status?a(x(c))&&a(j()):a(O(c))&&a(j()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=M(),n=Object(l.c)((function(e){return e.notification.messageError?e.notification.messageError:!!e.notification.messageSuccess&&e.notification.messageSuccess})),c=Object(U.a)({mode:"onBlur"}),o=c.register,i=c.handleSubmit,s=c.errors,u=c.formState,m=c.reset;return r.a.createElement(a.Fragment,null,n?r.a.createElement(L,null):null,r.a.createElement("form",{className:t.formRegistration,autoComplete:"on",onSubmit:i((function(t,n){n.preventDefault(),m(),e.sendDataToServer(t,"/api/auth/register")}))},r.a.createElement(P.a,{id:"email",name:"email",label:"Email address *",type:"email",variant:"outlined",inputRef:o({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}})}),s.email&&"required"===s.email.type&&r.a.createElement(q.a,{severity:"error"},"Email is required"),s.email&&"pattern"===s.email.type&&r.a.createElement(q.a,{severity:"error"},"Invalid email"),r.a.createElement(P.a,{id:"password",name:"password",label:"Password *",type:"password",variant:"outlined",inputRef:o({required:!0,minLength:6})}),s.password&&"required"===s.password.type&&r.a.createElement(q.a,{severity:"error"},"Password is required"),s.password&&"minLength"===s.password.type&&r.a.createElement(q.a,{severity:"error"},"Min length: 6"),r.a.createElement(P.a,{id:"confirm",name:"confirm",label:"Confirm password *",type:"password",variant:"outlined",inputRef:o({required:!0,minLength:6})}),s.confirm&&"required"===s.confirm.type&&r.a.createElement(q.a,{severity:"error"},"Confirm password is required"),s.confirm&&"minLength"===s.confirm.type&&r.a.createElement(q.a,{severity:"error"},"Min length: 6"),r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",type:"submit",disabled:!u.isValid},"sing up")))})),H=Object(m.a)((function(e){return{container:{margin:e.spacing(5),backgroundColor:"#cfe8fc"},paper:{flexGrow:1,height:"100%",backgroundColor:"primary"},title:{margin:e.spacing(5),marginBottom:e.spacing(10)}}}));var W=n(42),J=n(154),V=n(155),Z=n(32),$=E.AUTH.authSuccess,Y=E.AUTH.logout,K={token:!1,userId:!1,isAuthenticated:!1};var Q=E.NOTIFICATION.getMessageError,X=E.NOTIFICATION.getMessageSuccess,ee=E.NOTIFICATION.clearNotification,te={messageError:!1,messageSuccess:!1};var ne=E.NOTES.getNotesSuccess,ae={notesArray:[{_id:1,notes:"fake notes",owner:1}]};var re=E.SHARE.getUsersSuccess,ce={usersArray:[{_id:"1",email:"fake@mail.com"}]};var oe=Object(W.combineReducers)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:K,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case $:return Object(Z.a)({},e,{token:t.token,userId:t.userId,isAuthenticated:t.isAuthenticated});case Y:return Object(Z.a)({},e,{token:!1,userId:!1,isAuthenticated:!1});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:te,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q:return Object(Z.a)({},e,{messageError:t.messageError});case X:return Object(Z.a)({},e,{messageSuccess:t.messageSuccess});case ee:return Object(Z.a)({},e,{messageSuccess:!1,messageError:!1});default:return e}},notes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ae,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ne:return Object(Z.a)({},e,{notesArray:t.notesArray});default:return e}},users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ce,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case re:return Object(Z.a)({},e,{usersArray:t.usersArray});default:return e}}}),ie=function(){try{var e=localStorage.getItem("app_state");if(!e)return;return JSON.parse(e)}catch(t){return}}(),se=Object(W.createStore)(oe,ie,Object(V.composeWithDevTools)(Object(W.applyMiddleware)(J.a)));function ue(e){se.getState().auth.isAuthenticated?e.history.push("/cabinet"):e.history.push("/login")}se.subscribe((function(){return function(e){try{var t=JSON.stringify(e);localStorage.setItem("app_state",t)}catch(n){console.error(n.message)}}(se.getState())}));var le=Object(m.a)((function(e){return{FormTask:{textAlign:"center",verticalAlign:"middle",width:"100%","& > div":{margin:e.spacing(1),width:"75%"},"& > button":{marginTop:e.spacing(4),marginBottom:e.spacing(10),width:"75%",height:"4rem"},"& > div.MuiAlert-root":{display:"inline-flex",width:"75%"}}}}));var me=Object(u.f)((function(e){var t=le(),n=se.getState().notification.messageError,c=Object(U.a)({mode:"onBlur"}),o=c.register,i=c.handleSubmit,s=c.errors,u=c.formState,l=c.reset,m=function(){var t=Object(b.a)(v.a.mark((function t(n,a){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a.preventDefault(),l(),t.next=5,se.dispatch(w(n,"/api/auth/login"));case 5:ue(e),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.error(t.t0.message);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e,n){return t.apply(this,arguments)}}();return r.a.createElement(a.Fragment,null,n?r.a.createElement(L,null):null,r.a.createElement("form",{className:t.FormTask,autoComplete:"on",onSubmit:i(m)},r.a.createElement(P.a,{id:"email",name:"email",label:"Email address *",type:"email",variant:"outlined",inputRef:o({required:!0,pattern:{value:/^[A-Z0-9._%+-]+@[A-Z0-9.-]+\.[A-Z]{2,4}$/i}})}),s.email&&"required"===s.email.type&&r.a.createElement(q.a,{severity:"error"},"Email is required"),s.email&&"pattern"===s.email.type&&r.a.createElement(q.a,{severity:"error"},"Invalid email"),r.a.createElement(P.a,{id:"password",name:"password",label:"Password *",type:"password",variant:"outlined",inputRef:o({required:!0,minLength:6})}),s.password&&"required"===s.password.type&&r.a.createElement(q.a,{severity:"error"},"Password is required"),s.password&&"minLength"===s.password.type&&r.a.createElement(q.a,{severity:"error"},"Min length: 6"),r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",type:"submit",disabled:!u.isValid},"sing in")))})),pe=Object(m.a)((function(e){return{container:{margin:e.spacing(5),backgroundColor:"#cfe8fc"},paper:{flexGrow:1,height:"100%",backgroundColor:"primary"},title:{margin:e.spacing(5),marginBottom:e.spacing(10)}}}));var fe=function(){return Object(a.useEffect)((function(){document.title="Page not found"})),r.a.createElement("h1",null,"Page not found")},de=n(156),he=n.n(de),ge=n(304),ve=n(298),be=n(299),Ee=n(162),ye=n.n(Ee);function Oe(e,t){return function(){var n=Object(b.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,a(k()),r.ok&&200===r.status?a(xe(c)):a(O(c))&&a(j()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}function xe(e){var t=e.notes;return{type:y.a.NOTES.getNotesSuccess,notesArray:t}}var je=n(157),ke=n.n(je),we=n(248);var Se=Object(l.b)(null,(function(e){return{deleteNotes:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(b.a)(v.a.mark((function a(r){var c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(n,{method:"DELETE",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,id:t}});case 3:return c=a.sent,a.next=6,c.json();case 6:o=a.sent,c.ok||r(O(o))&&r(j()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0.message);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getNotes:function(t,n){return e(Oe(t,n))}}}))((function(e){var t=e.notesId,n=se.getState().auth.token,a=function(){var a=Object(b.a)(v.a.mark((function a(r){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r.preventDefault(),a.next=4,e.deleteNotes(n,t,"/api/notes/delete");case 4:return a.next=6,e.getNotes(n,"/api/notes");case 6:a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.error(a.t0.message);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}();return r.a.createElement(we.a,{"aria-label":"delete",onClick:a},r.a.createElement(ke.a,null))})),Ne=n(250),Te=n(249),Ae=n(165),Ie=n(158),Ce=n.n(Ie),_e=n(159),Fe=n.n(_e),Be=n(289),Re=Object(m.a)((function(e){return{modal:{display:"flex",alignItems:"center",justifyContent:"center"},paper:{backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3),minWidth:"500px"},textarea:{width:"100%"},button:{float:"right",marginTop:"25px"}}}));var Ue=Object(l.b)(null,(function(e){return{editNotes:function(t,n,a,r){return e(function(e,t,n,a){return function(){var r=Object(b.a)(v.a.mark((function r(c){var o,i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(a,{method:"PATCH",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,id:t,notes:n}});case 3:return o=r.sent,r.next=6,o.json();case 6:i=r.sent,o.ok||c(O(i))&&c(j()),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0.message);case 13:case"end":return r.stop()}}),r,null,[[0,10]])})));return function(e){return r.apply(this,arguments)}}()}(t,n,a,r))},getNotes:function(t,n){return e(Oe(t,n))}}}))((function(e){var t=e.notesInfo,n=se.getState().auth.token,c=Re(),o=Object(a.useState)(!1),i=Object(z.a)(o,2),s=i[0],u=i[1],l=Object(U.a)({mode:"onBlur"}),m=l.register,p=l.handleSubmit,f=function(){u(!1)},h=function(){var a=Object(b.a)(v.a.mark((function a(r,c){return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,c.preventDefault(),a.next=4,e.editNotes(n,t._id,r.notes,"/api/notes/edit");case 4:return a.next=6,e.getNotes(n,"/api/notes");case 6:f(),a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),console.error(a.t0.message);case 12:case"end":return a.stop()}}),a,null,[[0,9]])})));return function(e,t){return a.apply(this,arguments)}}();return r.a.createElement(a.Fragment,null,r.a.createElement(Ce.a,{onClick:function(){u(!0)}}),r.a.createElement(Ne.a,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",className:c.modal,open:s,onClose:f,closeAfterTransition:!0,BackdropComponent:Te.a,BackdropProps:{timeout:500}},r.a.createElement(Ae.a,{in:s},r.a.createElement("div",{className:c.paper},r.a.createElement("h2",{id:"transition-modal-title"},"Edit notes:"),r.a.createElement("form",{autoComplete:"off",onSubmit:p(h)},r.a.createElement(Be.a,{id:"notes",name:"notes",rowsMin:10,className:c.textarea,defaultValue:t.notes,ref:m}),r.a.createElement("div",null,r.a.createElement(d.a,{variant:"contained",color:"default",size:"small",className:c.button,startIcon:r.a.createElement(Fe.a,null),type:"submit"},"Save")))))))}));var Pe=function(e){var t=e.notesInfo;return r.a.createElement(we.a,{"aria-label":"edit"},r.a.createElement(Ue,{notesInfo:t}))},qe=n(161),ze=n.n(qe),De=n(306),Le=n(290),Me=n(295),Ge=n(296),He=n(297),We=n(294),Je=n(293),Ve=n(160),Ze=n.n(Ve),$e=n(98);function Ye(e,t,n,a){return function(){var r=Object(b.a)(v.a.mark((function r(c){var o,i;return v.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,fetch(t,{method:"PATCH",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e,samedate:n+" "+a}});case 3:return o=r.sent,r.next=6,o.json();case 6:i=r.sent,c(k()),o.ok&&200===o.status?c(x(i))&&c(j()):c(O(i))&&c(j()),r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0.message);case 14:case"end":return r.stop()}}),r,null,[[0,11]])})));return function(e){return r.apply(this,arguments)}}()}function Ke(e){var t=e.users;return{type:y.a.SHARE.getUsersSuccess,usersArray:t}}var Qe=Object(m.a)({avatar:{backgroundColor:$e.a[100],color:$e.a[600]}});function Xe(e){var t=Object(l.c)((function(e){return e.auth.token})),n=Qe(),a=e.onClose,c=e.selectedValue,o=e.open,i=e.notesId,s=e.socket,u=Object(l.c)((function(e){return e.users.usersArray})),m=function(){var e=Object(b.a)(v.a.mark((function e(n){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,se.dispatch(Ye(t,"/api/share/notes",n,i));case 3:s.emit("share notes with user",n),a(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement(Je.a,{onClose:function(){a(c)},"aria-labelledby":"simple-dialog-title",open:o},r.a.createElement(We.a,{id:"simple-dialog-title"},"Click and share:"),r.a.createElement(Le.a,null,u.map((function(e){return r.a.createElement(Me.a,{button:!0,onClick:function(){return m(e.email)},key:e._id},r.a.createElement(Ge.a,null,r.a.createElement(De.a,{className:n.avatar},r.a.createElement(Ze.a,null))),r.a.createElement(He.a,{primary:e.email}))}))))}var et=Object(l.b)(null,(function(e){return{getUsers:function(t,n){return e(function(e,t){return function(){var n=Object(b.a)(v.a.mark((function n(a){var r,c;return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+e}});case 3:return r=n.sent,n.next=6,r.json();case 6:c=n.sent,a(k()),r.ok&&200===r.status?a(Ke(c)):a(O(c))&&a(j()),n.next=14;break;case 11:n.prev=11,n.t0=n.catch(0),console.error(n.t0.message);case 14:case"end":return n.stop()}}),n,null,[[0,11]])})));return function(e){return n.apply(this,arguments)}}()}(t,n))}}}))((function(e){var t=Object(l.c)((function(e){return e.auth.token})),n=Object(l.c)((function(e){return e.users.usersArray})),c=e.notesId,o=e.socket,i=Object(a.useState)(!1),s=Object(z.a)(i,2),u=s[0],m=s[1],p=Object(a.useState)(n[0].email),f=Object(z.a)(p,2),d=f[0],h=f[1],g=function(){var n=Object(b.a)(v.a.mark((function n(){return v.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,m(!0),n.next=4,e.getUsers(t,"/api/share/users");case 4:n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),console.error(n.t0.message);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})));return function(){return n.apply(this,arguments)}}();return r.a.createElement(a.Fragment,null,r.a.createElement(ze.a,{onClick:g}),r.a.createElement(Xe,{notesId:c,socket:o,selectedValue:d,open:u,onClose:function(e){m(!1),h(e)}}))}));function tt(e){var t=e.notesId,n=e.socket;return r.a.createElement(we.a,{"aria-label":"share"},r.a.createElement(et,{notesId:t,socket:n}))}var nt=Object(m.a)((function(e){return{root:{width:"100%",marginBottom:"100px","& div.MuiExpansionPanelDetails-root":{flexDirection:"column","& > div":{marginTop:"40px",display:"flex",flexDirection:"row-reverse"}}},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},title:{textAlign:"center"},share:{flexGrow:1,alignSelf:"flex-end",fontWeight:400,color:"rgba(0, 0, 0, 0.54)"}}}));var at=Object(l.b)(null,(function(e){return{getNotes:function(t,n){return e(Oe(t,n))}}}))((function(e){var t=nt(),n=Object(l.c)((function(e){return e.auth.token})),c=Object(l.c)((function(e){return e.notes.notesArray}));Object(a.useEffect)((function(){try{!function(){var t=Object(b.a)(v.a.mark((function t(){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.getNotes(n,"/api/notes");case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}()()}catch(t){console.error(t.message)}}),[e,n]);var o=c.length>0?c.map((function(n,a){return r.a.createElement(ge.a,{key:n._id},r.a.createElement(ve.a,{expandIcon:r.a.createElement(ye.a,null),"aria-controls":n._id+"-content",id:n._id+"-header"},n.email?r.a.createElement(_.a,{className:t.heading}," Notes \u2116 ",a+1," || Public "):r.a.createElement(_.a,{className:t.heading}," Notes \u2116 ",a+1," || Private ")),r.a.createElement(be.a,null,r.a.createElement(_.a,null,n.notes),r.a.createElement("div",null,r.a.createElement(Se,{notesId:n._id}),r.a.createElement(Pe,{notesInfo:n}),r.a.createElement(tt,{notesId:n._id,socket:e.socket}),n.email?r.a.createElement(_.a,{variant:"subtitle1",gutterBottom:!0,className:t.share},"share: ",n.email):null)))})):r.a.createElement("h3",{className:t.title},"Notes is empty.");return r.a.createElement("div",{className:t.root},o)})),rt=Object(m.a)((function(){return{FormTask:{textAlign:"center",verticalAlign:"middle",width:"80%",margin:"50px auto"},input:{paddingRight:"20px",flexGrow:1}}}));var ct=Object(l.b)(null,(function(e){return{sendNotes:function(t,n,a){return e(function(e,t,n){return function(){var a=Object(b.a)(v.a.mark((function a(r){var c,o;return v.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,fetch(t,{method:"POST",cache:"no-cache",headers:{"Content-Type":"application/json",Authorization:"Bearer "+n},body:JSON.stringify(e)});case 3:return c=a.sent,a.next=6,c.json();case 6:o=a.sent,c.ok||r(O(o))&&r(j()),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(0),console.error(a.t0.message);case 13:case"end":return a.stop()}}),a,null,[[0,10]])})));return function(e){return a.apply(this,arguments)}}()}(t,n,a))},getNotes:function(t,n){return e(Oe(t,n))}}}))((function(e){var t=rt(),n=Object(l.c)((function(e){return e.auth.token})),a=Object(U.a)({mode:"onBlur"}),c=a.register,o=a.handleSubmit,i=a.formState,s=a.reset,u=function(){var t=Object(b.a)(v.a.mark((function t(a,r){return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,r.preventDefault(),s(),t.next=5,e.sendNotes(a,"/api/notes/create",n);case 5:return t.next=7,e.getNotes(n,"/api/notes");case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error(t.t0.message);case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e,n){return t.apply(this,arguments)}}();return r.a.createElement("form",{className:t.FormTask,autoComplete:"off",onSubmit:o(u)},r.a.createElement(R.a,{container:!0,justify:"space-between",direction:"row"},r.a.createElement(P.a,{className:t.input,id:"notes",name:"notes",label:"New notes",type:"text",variant:"outlined",inputRef:c({required:!0})}),r.a.createElement(d.a,{variant:"contained",size:"large",color:"primary",type:"submit",disabled:!i.isValid},"add")))}));var ot=r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:C}),r.a.createElement(u.a,{exact:!0,path:"/registration",component:function(){var e=H();return Object(a.useEffect)((function(){document.title="Registration page"})),r.a.createElement(F.a,{maxWidth:"md"},r.a.createElement(_.a,{component:"main",className:e.container},r.a.createElement(B.a,{className:e.paper,elevation:2},r.a.createElement(R.a,{container:!0,justify:"center"},r.a.createElement(_.a,{variant:"h4",component:"h2",gutterBottom:!0,className:e.title},"Create your account"),r.a.createElement(G,null)))))}}),r.a.createElement(u.a,{exact:!0,path:"/login",component:function(){var e=pe();return Object(a.useEffect)((function(){document.title="Auth page"})),r.a.createElement(F.a,{maxWidth:"md"},r.a.createElement(_.a,{component:"main",className:e.container},r.a.createElement(B.a,{className:e.paper,elevation:2},r.a.createElement(R.a,{container:!0,justify:"center"},r.a.createElement(_.a,{variant:"h4",component:"h2",gutterBottom:!0,className:e.title},"Login to the system"),r.a.createElement(me,null)))))}}),r.a.createElement(u.a,{component:fe})),it=r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",component:C}),r.a.createElement(u.a,{exact:!0,path:"/cabinet",component:function(){var e=Object(l.c)((function(e){return e.notification.messageError})),t=Object(l.c)((function(e){return e.auth.token})),n=he()("http://localhost:3000");return n.on("connect",(function(){return console.info("Your ID: ".concat(n.id))})),n.on("share success",Object(b.a)(v.a.mark((function e(){return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,se.dispatch(Oe(t,"/api/notes"));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})))),Object(a.useEffect)((function(){document.title="User cabinet"})),Object(a.useEffect)((function(){return function(){n.disconnect(console.info("You left: ".concat(n.id)))}}),[n]),r.a.createElement(F.a,{maxWidth:"md"},e?r.a.createElement(L,null):null,r.a.createElement(ct,null),r.a.createElement(at,{socket:n}))}}),r.a.createElement(u.a,{component:fe}));var st=function(){var e=Object(l.c)((function(e){return e.auth}));return r.a.createElement(a.Fragment,null,e.isAuthenticated?it:ot)};n(243);var ut=function(){return r.a.createElement(i.a,null,r.a.createElement(s.a,null),r.a.createElement(I,null),r.a.createElement(st,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(l.a,{store:se},r.a.createElement(ut,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[175,1,2]]]);
//# sourceMappingURL=main.c0bfae9c.chunk.js.map